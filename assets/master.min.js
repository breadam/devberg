Ember.TEMPLATES.application=Ember.Handlebars.template(function(e,s,r,t,n){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,Ember.Handlebars.helpers),n=n||{};var a,h="";return n.buffer.push('<div class="ui one column page grid">\r\n	\r\n	<div class="row">\r\n		\r\n		<div class="sixteen column wide">\r\n		\r\n			<div class="ui segment">\r\n			\r\n				<h1> Heisenberg </h1>\r\n				\r\n			</div>\r\n		</div>\r\n	</div>\r\n	\r\n	<div class="row">\r\n		\r\n		<div class="sixteen column wide">\r\n			\r\n			<div class="ui segment">\r\n			\r\n				'),a=r._triageMustache.call(s,"outlet",{hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["ID"],data:n}),(a||0===a)&&n.buffer.push(a),n.buffer.push("\r\n				\r\n			</div>\r\n		</div>\r\n	\r\n		\r\n	</div>\r\n	\r\n</div>"),h}),Ember.TEMPLATES.chat=Ember.Handlebars.template(function(e,s,r,t,n){function a(e,s){var t,n="";return s.buffer.push('\r\n		\r\n		<div class="item">\r\n		\r\n			'),t=r["if"].call(e,"fromUser",{hash:{},hashTypes:{},hashContexts:{},inverse:l.program(4,i,s),fn:l.program(2,h,s),contexts:[e],types:["ID"],data:s}),(t||0===t)&&s.buffer.push(t),s.buffer.push("\r\n		</div>\r\n	"),n}function h(e,s){var t,n="";return s.buffer.push('\r\n				\r\n				<div class="ui right floated segment">\r\n					<p>'),t=r._triageMustache.call(e,"content",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:s}),(t||0===t)&&s.buffer.push(t),s.buffer.push("</p>\r\n				</div>\r\n				\r\n			"),n}function i(e,s){var t,n="";return s.buffer.push('\r\n			\r\n				<div class="ui left floated segment">\r\n					<p>'),t=r._triageMustache.call(e,"content",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:s}),(t||0===t)&&s.buffer.push(t),s.buffer.push("</p>\r\n				</div>\r\n				\r\n			\r\n			"),n}this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,Ember.Handlebars.helpers),n=n||{};var u,o,c,p="",l=this,f=r.helperMissing,d=this.escapeExpression;return u=r._triageMustache.call(s,"user.subject",{hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["ID"],data:n}),(u||0===u)&&n.buffer.push(u),n.buffer.push('\r\n\r\n\r\n<div class="ui list">\r\n\r\n	'),u=r.each.call(s,"messages",{hash:{},hashTypes:{},hashContexts:{},inverse:l.noop,fn:l.program(1,a,n),contexts:[s],types:["ID"],data:n}),(u||0===u)&&n.buffer.push(u),n.buffer.push('\r\n\r\n</div>\r\n\r\n<div class="ui form">\r\n  <div class="field">\r\n    '),n.buffer.push(d((o=r.textarea||s&&s.textarea,c={hash:{placeholder:"Type your message",rows:"3",value:"newMessage","insert-newline":"sendMessage"},hashTypes:{placeholder:"STRING",rows:"STRING",value:"ID","insert-newline":"STRING"},hashContexts:{placeholder:s,rows:s,value:s,"insert-newline":s},contexts:[],types:[],data:n},o?o.call(s,c):f.call(s,"textarea",c)))),n.buffer.push("\r\n    <textarea></textarea>\r\n  </div>\r\n</div>"),p}),Ember.TEMPLATES.chats=Ember.Handlebars.template(function(e,s,r,t,n){function a(e,s){var t,n="";return s.buffer.push('\r\n				\r\n				<div class="item" '),s.buffer.push(p(r.action.call(e,"startChat","user",{hash:{},hashTypes:{},hashContexts:{},contexts:[e,e],types:["STRING","ID"],data:s}))),s.buffer.push("> "),t=r._triageMustache.call(e,"user.subject",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:s}),(t||0===t)&&s.buffer.push(t),s.buffer.push("("),t=r._triageMustache.call(e,"user.name",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:s}),(t||0===t)&&s.buffer.push(t),s.buffer.push(") </div>\r\n				\r\n			"),n}function h(e,s){var t,n,a,h="";return s.buffer.push("\r\n				\r\n				"),n=r["link-to"]||e&&e["link-to"],a={hash:{"class":"item"},hashTypes:{"class":"STRING"},hashContexts:{"class":e},inverse:l.noop,fn:l.program(4,i,s),contexts:[e,e],types:["STRING","ID"],data:s},t=n?n.call(e,"chat","chat",a):f.call(e,"link-to","chat","chat",a),(t||0===t)&&s.buffer.push(t),s.buffer.push("\r\n				\r\n			"),h}function i(e,s){var t,n="";return s.buffer.push(" "),t=r._triageMustache.call(e,"chat.user.subject",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:s}),(t||0===t)&&s.buffer.push(t),s.buffer.push(" "),n}function u(e,s){s.buffer.push("\r\n				\r\n				No active chat\r\n				\r\n			")}this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,Ember.Handlebars.helpers),n=n||{};var o,c="",p=this.escapeExpression,l=this,f=r.helperMissing;return n.buffer.push('<div class="ui grid">\r\n	\r\n	<div class="three column wide">\r\n		\r\n		<div class="ui fluid vertical menu">\r\n			<div class="header item">\r\n				\r\n				Avaliable Topics\r\n				\r\n			</div>			\r\n		\r\n			'),o=r.each.call(s,"user","in","users",{hash:{},hashTypes:{},hashContexts:{},inverse:l.noop,fn:l.program(1,a,n),contexts:[s,s,s],types:["ID","ID","ID"],data:n}),(o||0===o)&&n.buffer.push(o),n.buffer.push('\r\n			\r\n		</div>\r\n		\r\n	</div>\r\n	\r\n	<div class="thirteen column wide">\r\n		\r\n		<div class="ui menu">\r\n			\r\n			'),o=r.each.call(s,"chat","in","model",{hash:{},hashTypes:{},hashContexts:{},inverse:l.program(6,u,n),fn:l.program(3,h,n),contexts:[s,s,s],types:["ID","ID","ID"],data:n}),(o||0===o)&&n.buffer.push(o),n.buffer.push("\r\n			\r\n		</div>\r\n		\r\n		"),o=r._triageMustache.call(s,"outlet",{hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["ID"],data:n}),(o||0===o)&&n.buffer.push(o),n.buffer.push("\r\n		\r\n	</div>\r\n	\r\n</div>"),c}),Ember.TEMPLATES.index=Ember.Handlebars.template(function(e,s,r,t,n){function a(e,s){s.buffer.push(" Chat Now ")}this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,Ember.Handlebars.helpers),n=n||{};var h,i,u,o="",c=this,p=r.helperMissing;return n.buffer.push('<div class="ui center middle aligned grid">\r\n	\r\n	<div class="six wide column">\r\n		\r\n		<h1> Type something </h1>\r\n		'),i=r["link-to"]||s&&s["link-to"],u={hash:{"class":"ui huge red button"},hashTypes:{"class":"STRING"},hashContexts:{"class":s},inverse:c.noop,fn:c.program(1,a,n),contexts:[s],types:["STRING"],data:n},h=i?i.call(s,"chats",u):p.call(s,"link-to","chats",u),(h||0===h)&&n.buffer.push(h),n.buffer.push("\r\n	</div>\r\n	\r\n</div>"),o}),Ember.TEMPLATES["chats/index"]=Ember.Handlebars.template(function(e,s,r,t,n){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,Ember.Handlebars.helpers),n=n||{},n.buffer.push("chats main")}),App=Ember.Application.create({LOG_TRANSITIONS:!0,LOG_TRANSITIONS_INTERNAL:!0}),App.ApplicationAdapter=DS.FixtureAdapter,App.Router.map(function(){this.resource("chats",function(){this.resource("chat",{path:":chat_id"})})}),App.Router.reopen({location:"none"}),App.User=DS.Model.extend({name:DS.attr("string"),subject:DS.attr("string"),chats:DS.hasMany("chat",{inverse:"user",async:!0})}),App.Chat=DS.Model.extend({user:DS.belongsTo("user",{inverse:"chats",async:!0}),messages:DS.hasMany("message",{async:!0}),visitor:DS.belongsTo("user",{async:!0})}),App.Message=DS.Model.extend({content:DS.attr("string"),isUser:DS.attr("boolean"),chat:DS.belongsTo("chat",{async:!0})}),App.User.FIXTURES=[{id:1,name:"heisenberg",subject:"Fuck",chats:[81726382176387]},{id:2,name:"fluffy bunny",subject:"Fcuk"},{id:3,name:"ali",subject:"Garı"},{id:4,name:"veli",subject:"Gız"},{id:5,name:"4950",subject:"Araba"}],App.Chat.FIXTURES=[{id:81726382176387,user:1,visitor:2}],App.ChatsController=Ember.ArrayController.extend({needs:"application",users:function(){return this.store.find("user")}.property(),id:0,actions:{startChat:function(e){var s=this.get("controllers.application.model");if(e.get("id")!==s.get("id")){var r=this.store.createRecord("chat",{id:this.get("id"),visitor:s,user:e}),t=this;r.save().then(function(e){t.get("model").addRecord(e),t.incrementProperty("id")})}}}}),App.ChatController=Ember.ObjectController.extend({newMessage:"",actions:{sendMessage:function(){var e=this,s=this.get("model"),r=this.store.createRecord("message",{content:this.get("newMessage"),chat:s,fromUser:!0});r.save().then(function(){s.get("messages").pushObject(r),e.set("newMessage","")})}}}),App.ApplicationRoute=Ember.Route.extend({model:function(){return this.store.find("user",1)}}),App.ChatsRoute=Ember.Route.extend({model:function(){var e=this.modelFor("application").get("id");return this.store.filter("chat",function(s){return s.get("visitor.id")===e||s.get("user.id")===e})}});